# üßü Zombie React Architecture Analysis System

## Overview

This system provides comprehensive analysis and explanation tools for understanding how the Payments Operations Dashboard codebase adheres to the **Zombie React Architecture Canon**.

## üõ†Ô∏è System Components

### 1. Automated Analyzer Script

**Location**: `scripts/analyze-zombie-architecture.js`

**Purpose**: Scans the codebase and validates against all 8 Zombie React rules.

**Features**:
- File classification (zombies vs brains)
- Horde ratio calculation
- Violation detection
- Report generation

**Usage**:
```bash
npm run analyze:zombie
```

**Output**: Generates `ZOMBIE_ARCHITECTURE_REPORT.md` with:
- Rule compliance status
- Violations and warnings
- Horde ratio statistics
- File classifications

### 2. Documentation Suite

#### Quick Reference (`docs/QUICK_REFERENCE.md`)
- Fast lookup for the 8 rules
- Navigation patterns
- Component classification guide
- Common violations checklist

#### Codebase Map (`docs/CODEBASE_MAP.md`)
- Visual directory structure
- Component classification
- Data flow diagrams
- 3-click navigation examples
- Health indicators

#### Architecture Explanation (`docs/ZOMBIE_ARCHITECTURE_EXPLANATION.md`)
- Deep dive into each rule
- Implementation details
- Architectural decisions
- Areas for improvement
- Code examples

#### System Overview (`docs/SYSTEM_OVERVIEW.md`)
- This document - explains the analysis system

#### Documentation Index (`docs/README.md`)
- Navigation hub for all documentation
- Quick start guide
- Links to all resources

### 3. Generated Reports

**Location**: `ZOMBIE_ARCHITECTURE_REPORT.md` (root)

**Generated by**: Automated analyzer script

**Contains**:
- Summary statistics
- Rule-by-rule compliance
- Violations and warnings
- Recommendations

## üìä Analysis Capabilities

### Rule 1: Start Undead
- ‚úÖ Detects components with hooks/state/API calls
- ‚úÖ Distinguishes between views (allowed) and components (should be pure)
- ‚ö†Ô∏è Flags violations for manual review

### Rule 2: Horde Ratio
- ‚úÖ Counts UI components (zombies)
- ‚úÖ Counts brain components/views
- ‚úÖ Calculates ratio (target: ‚â• 7:1)
- ‚úÖ Provides warnings if ratio drops

### Rule 3: 3-Click Brain Rule
- ‚ö†Ô∏è Basic structure validation
- ‚ÑπÔ∏è Full validation requires AST analysis (manual review recommended)
- ‚úÖ Checks component nesting depth

### Rule 4: Trial of the Three Strains
- ‚úÖ Checks for ADR files
- ‚ÑπÔ∏è Design process rule (requires manual documentation)

### Rule 5: No Tunnels
- ‚ö†Ô∏è Checks component nesting depth
- ‚ÑπÔ∏è Full validation requires AST analysis (manual review recommended)

### Rule 6: Coffin Rule
- ‚úÖ Validates feature co-location
- ‚úÖ Checks for scattered files
- ‚ö†Ô∏è Flags potential violations

### Rule 7: No Unnamed Survivors
- ‚úÖ Scans for generic file names
- ‚úÖ Flags: `utils.ts`, `helpers.ts`, `common.ts`, `index.ts`
- ‚úÖ Validates purposeful naming

### Rule 8: Silence the Living
- ‚úÖ Detects console statements
- ‚úÖ Detects eslint-disable comments
- ‚ö†Ô∏è Flags violations for cleanup

## üéØ How to Use

### For New Developers

1. **Start with Quick Reference** - Understand the rules
2. **Check Codebase Map** - See how everything connects
3. **Read Architecture Explanation** - Understand the decisions
4. **Run analyzer** - See current compliance status

### For Code Reviews

1. **Run analyzer** before PR
   ```bash
   npm run analyze:zombie
   ```
2. **Check violations** in generated report
3. **Verify 3-click paths** manually (if needed)
4. **Ensure horde ratio** maintained

### For Architecture Decisions

1. **Review Trial of Three Strains** - Document interface decisions
2. **Check Coffin Rule** - Ensure co-location
3. **Verify naming** - No unnamed survivors
4. **Update documentation** - Keep explanations current

## üìà Continuous Improvement

### Current Status

- ‚úÖ Strong adherence to most rules
- ‚ö†Ô∏è Some console statements need cleanup
- ‚ö†Ô∏è Test files flagged (expected - can be excluded)
- ‚ÑπÔ∏è Full AST analysis would improve validation

### Future Enhancements

1. **AST-based Analysis**
   - Trace import paths for 3-click validation
   - Detect actual prop drilling
   - Verify hook usage patterns

2. **CI Integration**
   - Run analyzer in CI pipeline
   - Fail builds on critical violations
   - Generate reports for PR reviews

3. **IDE Integration**
   - VSCode extension for rule validation
   - Real-time violation detection
   - Quick navigation helpers

4. **Enhanced Reporting**
   - Visual diagrams
   - Trend analysis over time
   - Comparison between versions

## üîç Validation Depth

### Current (Heuristic-based)
- ‚úÖ File scanning
- ‚úÖ Pattern matching
- ‚úÖ Basic structure analysis
- ‚ö†Ô∏è Limited to static analysis

### Future (AST-based)
- ‚úÖ Full import path tracing
- ‚úÖ Prop passing analysis
- ‚úÖ Hook usage validation
- ‚úÖ Store access patterns

## üìö Documentation Structure

```
docs/
‚îú‚îÄ‚îÄ README.md                    # Documentation hub
‚îú‚îÄ‚îÄ QUICK_REFERENCE.md           # Fast lookup
‚îú‚îÄ‚îÄ CODEBASE_MAP.md              # Navigation guide
‚îú‚îÄ‚îÄ ZOMBIE_ARCHITECTURE_EXPLANATION.md  # Deep dive
‚îî‚îÄ‚îÄ SYSTEM_OVERVIEW.md           # This file

scripts/
‚îî‚îÄ‚îÄ analyze-zombie-architecture.js  # Analyzer tool

ZOMBIE_ARCHITECTURE_REPORT.md    # Generated report (root)
```

## üéì Learning Path

### Day 1: Understanding
1. Read Quick Reference
2. Review Codebase Map
3. Run analyzer to see current state

### Day 2: Application
1. Read Architecture Explanation
2. Trace 3-click paths manually
3. Review violations in report

### Day 3: Practice
1. Make a small change
2. Run analyzer
3. Verify compliance
4. Document any decisions

## üí° Tips

- **Run analyzer regularly** - Catch violations early
- **Document exceptions** - If you must break a rule, explain why
- **Keep horde ratio high** - Many zombies, few brains
- **Verify 3-click paths** - Manual check for complex features
- **Co-locate related code** - Keep features together

## üö® Common Issues

### Issue: Analyzer flags test files
**Solution**: Test files are expected to have hooks - can be excluded from analysis

### Issue: Ratio seems low
**Solution**: Check if counting includes pure rule files - ratio should count React components only

### Issue: Violations in views
**Solution**: Views are brain boundaries - violations are expected and acceptable

### Issue: Console statements
**Solution**: Replace with proper logging service or remove for production

## üìû Support

For questions about:
- **Rules**: See `QUICK_REFERENCE.md`
- **Implementation**: See `ZOMBIE_ARCHITECTURE_EXPLANATION.md`
- **Navigation**: See `CODEBASE_MAP.md`
- **Tool usage**: See this document

---

**System Version**: 1.0  
**Last Updated**: 2025-11-04  
**Analyzer**: `scripts/analyze-zombie-architecture.js`

